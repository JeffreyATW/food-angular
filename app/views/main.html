<input type="search" ng-model="searchText">

<table>
  <tr ng-repeat="ingredient in ingredients | filter: searchText">
    <td><a ng-href="#/ingredients/{{ingredient.id}}">{{ingredient.name}}</a></td>
    <td>{{compartments | getById: ingredient.compartment | attribute: 'name' }}</td>
  </tr>
</table>

<form name="newIngredientForm" novalidate>
  <input type="text" ng-model="newIngredient.name" required>
  <select ng-model="newIngredient.compartment" required>
    <option ng-repeat="compartment in compartments" value="{{compartment.id}}">{{compartment.name}}</option>
  </select>
  <input class="btn btn-primary" type="submit" ng-click="addIngredient(newIngredient)" ng-disabled="newIngredientForm.$invalid">
</form>